# ============================================================
# ⚠️ 注意：这是示例配置文件，不会生效！
# ============================================================
# 
# 【重要】首次使用请按以下步骤操作：
# 
#   1. 启动一次 MaiBot，插件会自动生成 config.toml 文件
#   2. 或者手动将此文件重命名为 config.toml
#   3. 修改 config.toml 中的配置（不是这个文件！）
# 
# 本文件（config.example.toml）仅供参考，修改本文件不会生效！
# ============================================================

# 麦上号 (MaiShangHao) - 配置文件示例
# 离线消息同步插件，让麦麦在启动时能够看到下线期间收到的消息
# 配置版本: 1.0.0

[plugin]
# 是否启用插件
enabled = true

# 配置文件版本
config_version = "1.0.0"

[napcat]
# NapCat HTTP API 地址
# 默认端口是 3000，如果你修改过 NapCat 配置，请相应修改
# 
# 如何确认 HTTP API 是否开启：
# 1. 打开 NapCat WebUI（通常是 http://127.0.0.1:6099）
# 2. 进入「机器人」→「网络配置」→「HTTP 服务」
# 3. 查看端口号和 token
http_url = "http://127.0.0.1:3000"

# NapCat access_token
# 如果你在 NapCat 中配置了 token，请填写在这里
# 没有设置就留空
access_token = ""

[sync]
# 需要同步消息的群号列表
# 填写你希望麦麦在启动时"看到"离线消息的群号
# 示例: [123456789, 987654321]
groups = []

# 每个群同步的消息数量
# 建议不要设置太大，以免影响启动速度
message_count = 50

# 启动后延迟多少秒开始同步
# 给 NapCat 一些时间完成连接和初始化
delay_seconds = 5

# 机器人QQ号
# 用于过滤机器人自己发送的消息
# 留空则会自动从配置中获取
bot_qq = ""

# 去重模式
# - "message_id": 按消息ID去重（推荐，速度快）
# - "content_hash": 按内容哈希去重（更精确，但速度稍慢）
dedupe_mode = "message_id"

# 同步完成后是否触发 planner 判断最新消息
# 开启后，麦麦会根据离线消息判断是否需要回复
trigger_planner = true

# 同步完成后延迟多少秒触发 planner
# 给心流系统一些时间初始化
planner_delay = 3

# 是否在离线消息前后添加标记
# 开启后，会在离线消息前后添加特殊标记，让 planner 和 replyer 知道这些是离线消息
# 标记格式：
#   【离线消息开始】以下是你下线期间收到的消息：
#   ... 离线消息内容 ...
#   【离线消息结束】以上是你下线期间收到的消息。
add_markers = true
